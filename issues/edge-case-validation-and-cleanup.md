# migrate時のエッジケース検証機能の強化

## 目的

現在のシステムでは、いくつかのエッジケースでmigrate時にエラーが検出されずrunで失敗するケースがある。これらをmigrate時点で早期検出し、システムの堅牢性を向上させる。

## 期待する結果

### エッジケースの早期検出

#### 循環依存の検出
- **現状**: 自己参照はmigrate時に検出されるが、複雑な循環依存（A→B→A等）はmigrate時に検出されず、run時にパニックで異常終了する
- **期待**: すべての循環依存がmigrate時点で適切なエラーメッセージとともに検出される

#### 存在しないテーブル参照の検出
- **現状**: Modelが存在しないテーブルを参照した場合、migrate成功してrunで失敗する
- **期待**: 存在しないテーブルを参照した場合、migrate時点でエラーになる

#### 削除されたノード参照の検出
- **現状**: Adapterを削除した際、それを参照するModelがあってもmigrate成功してrunで失敗する
- **期待**: 削除されたノードを参照するModelがある場合、migrate時点でエラーになる
- **例**: `adapters/orders.yml`を削除し、`models/order_stats.yml`が`FROM orders`を参照している場合


## 実装方針

### 1. 循環依存検証の強化
- 現在の循環依存検出機能の動作確認とテストケース追加
- migrate時点での確実なエラー検出の実装

### 2. テーブル参照整合性の検証
- migrate時にModelが参照するテーブルの存在確認
- 削除されたノードを参照するModelの検出
- 存在しないテーブル参照時の適切なエラーメッセージ
- グラフ構築時のテーブル参照整合性チェック

### 3. 検証機能の統合
- `src/dependency/graph.rs`の`Graph::from_config()`に検証ロジックを追加
- エラーの早期検出とユーザーフレンドリーなエラーメッセージ